<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>SM Beauty Expert</title>
  
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css"/>
  <style>
  .google-btn, .submit-btn { padding:10px 20px; margin-top:10px; cursor:pointer; }
  .review-box { display:flex; gap:10px; margin-bottom:15px; }
  .avatar { width:40px; height:40px; border-radius:50%; object-fit:cover; }
  .stars label { cursor:pointer; font-size:20px; margin-right:5px; }
  .stars input { display:none; }
</style>

</head>
<body>
  <div class="container">

    <header>
  <img src="images/logo.png" alt="SM Beauty Expert Logo" class="logo">
  <h1>Beauty Expert</h1>
  <div>Professional Makeup Services — Tamilnadu</div>
</header>

    <section class="services widget">
  <h2>Our Services</h2>
  <div class="services-grid">
<div class="service-card">
  <i class="fa-solid fa-person-dress"></i>
  Hair Styles
</div>

<div class="service-card">
  <i class="fa-solid fa-wand-magic-sparkles"></i>
  HD Bridal Makeup
</div>

<div class="service-card">
  <i class="fa-solid fa-sun"></i>
Party Makeup
</div>

<div class="service-card">
  <i class="fa-solid fa-palette"></i>
  Mehandi
</div>

<div class="service-card">
  <i class="fa-solid fa-gem"></i>
  Jewell Set Rent
</div>

<div class="service-card">
  <i class="fa-solid fa-seedling"></i>
  Bridal Flowers
</div>

<div class="service-card">
  <i class="fa-solid fa-camera"></i>
  Photoshoot Makeup
</div>

<div class="service-card">
  <i class="fa-solid fa-person-dress-burst"></i>
  Saree Draping
</div>

<div class="service-card">
  <i class="fa-solid fa-spa"></i>
  Facials
</div>

  </div>
</section>
    <section class="hero widget">
      <h2>Our Work with Clients</h2>
  <div class="swiper mySwiper">
  <div class="swiper-wrapper" id="workGallery"></div>
 </div>
 <div class="video-container">
  <video id="showcaseVideo" width="100%" autoplay muted playsinline></video>
</div>
      <div class="location">
        <svg viewBox="0 0 24 24">
          <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5S13.38 11.5 12 11.5z"/>
        </svg>
        Available in Tamilnadu, India
      </div>
    </section>
<section class="reviews widget">
  <h2 style="cursor:pointer;" id="toggleReviews">Client Reviews ▼</h2>

  <div id="reviewsContainer" style="display:none; transition: all 0.3s ease;">
    <div class="review-card"> 
      <h3>Leave a Review</h3>
      <div class="stars">
        <span data-star="1">★</span>
        <span data-star="2">★</span>
        <span data-star="3">★</span>
        <span data-star="4">★</span>
        <span data-star="5">★</span>
      </div>
      <textarea id="review-text" placeholder="Write your comment"></textarea>
      <button id="submit-review" disabled>Submit Review</button>
    </div>

    <div id="reviewsList"></div>
  </div>
</section>




<footer>
  <div class="contact-card">
    <div class="contact-title">For Booking via WhatsApp:</div>
    <div class="contact-buttons">
      <a href="https://wa.me/917092085364" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" style="vertical-align:middle; margin-right:6px; fill:#fff;">
          <path d="M6.62 10.79a15.053 15.053 0 006.59 6.59l2.2-2.2a1 1 0 011.11-.21c1.21.48 2.53.74 3.88.74a1 1 0 011 1v3.5a1 1 0 01-1 1C10.07 21 3 13.93 3 5a1 1 0 011-1h3.5a1 1 0 011 1c0 1.35.25 2.67.74 3.88a1 1 0 01-.21 1.11l-2.41 2.41z"/>
        </svg>
        +91 70920 85364
      </a>
      <a href="https://wa.me/916379757039" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" style="vertical-align:middle; margin-right:6px; fill:#fff;">
          <path d="M6.62 10.79a15.053 15.053 0 006.59 6.59l2.2-2.2a1 1 0 011.11-.21c1.21.48 2.53.74 3.88.74a1 1 0 011 1v3.5a1 1 0 01-1 1C10.07 21 3 13.93 3 5a1 1 0 011-1h3.5a1 1 0 011 1c0 1.35.25 2.67.74 3.88a1 1 0 01-.21 1.11l-2.41 2.41z"/>
        </svg>
        +91 63797 57039
      </a>
      <a href="https://instagram.com/makeup_artist_masoo" target="_blank" class="instagram-btn">
  <i class="fab fa-instagram" style="margin-right:6px;"></i>
  @makeup_artist_masoo
</a>

    </div>
    <div class="copyright">
      &copy; 2025 SM Beauty Expert. All rights reserved.
    </div>
  </div>
</footer>

 </div>
    <!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

<!-- Your auto-image code -->
<script src="main.js"></script>

<script>
  const videos = [
    "videos/1.mp4",
    "videos/2.mp4",
    "videos/3.mp4",
    "videos/4.mp4"
  ];

  let currentVideo = 0;
  const player = document.getElementById("showcaseVideo");

  // Load first video
  player.src = videos[currentVideo];

  // When one video ends, load the next
  player.addEventListener("ended", () => {
    currentVideo = (currentVideo + 1) % videos.length; // loop back
    player.src = videos[currentVideo];
    player.play();
  });
</script>

  </div>

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

<script src="main.js"></script>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";
import { doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";



// -------------------- Firebase Setup --------------------
const firebaseConfig = {
  apiKey: "AIzaSyByZAyiwg39lpNSCLlSf75Zkvy6cXPzgFY",
  authDomain: "sm-beauty-expert.firebaseapp.com",
  projectId: "sm-beauty-expert",
  storageBucket: "sm-beauty-expert.appspot.com",
  messagingSenderId: "1072782234764",
  appId: "1:1072782234764:web:480869aa98442a32d017a9",
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();
const db = getFirestore(app);

// -------------------- Stars Rating --------------------
const stars = document.querySelectorAll(".stars span");
const submitBtn = document.getElementById("submit-review");
let selectedRating = 0;

stars.forEach(star => {
  star.addEventListener("mouseover", () => {
    const val = Number(star.dataset.star);
    stars.forEach(s => s.classList.toggle("hover", Number(s.dataset.star) <= val));
  });

  star.addEventListener("mouseout", () => {
    stars.forEach(s => s.classList.remove("hover"));
    highlightStars(selectedRating);
  });

  star.addEventListener("click", () => {
    selectedRating = Number(star.dataset.star);
    highlightStars(selectedRating);

    if (selectedRating > 0) {
      submitBtn.disabled = false;
      submitBtn.classList.add("enabled");
    }
  });
});

function highlightStars(rating) {
  stars.forEach(s => s.classList.toggle("active", Number(s.dataset.star) <= rating));
}

// -------------------- Google Login --------------------
async function loginWithGoogle() {
  const result = await signInWithPopup(auth, provider);
  return result.user;
}
// -------------------- Reviews Handling --------------------
async function loadReviews() {
  const list = document.getElementById("reviewsList");
  list.innerHTML = "";

  const querySnapshot = await getDocs(collection(db, "reviews"));

  querySnapshot.forEach(doc => {
  const r = doc.data();
  addReviewToUI(r.name, r.photo, r.rating, r.comment, r.timestamp);
  });
}

// Submit review
submitBtn.addEventListener("click", async () => {
  if (!selectedRating) return alert("Select rating");

  let user = auth.currentUser;
  if (!user) user = await loginWithGoogle();

  const comment = document.getElementById("review-text").value;

  // Use user's UID as the document ID (1 account = 1 doc)
  const reviewRef = doc(db, "reviews", user.uid);

  await setDoc(reviewRef, {
    timestamp: new Date(),
    uid: user.uid,
    name: user.displayName,
    photo: user.photoURL,
    rating: selectedRating,
    comment: comment
  }, { merge: true }); // merge true allows updating existing review

  //alert("Review submitted!");
  // Reload all reviews to reflect changes
  loadReviews();
});

loadReviews();

// Header with photo, name, and date
const header = document.createElement("div");
header.className = "review-header";

const leftDiv = document.createElement("div");
leftDiv.style.display = "flex";
leftDiv.style.alignItems = "center";
leftDiv.style.gap = "10px";


function addReviewToUI(name, photo, rating, comment, timestamp) {
  const list = document.getElementById("reviewsList");

  const reviewItem = document.createElement("div");
  reviewItem.className = "review-item";
  reviewItem.style.background = "#fff0f5"; // light pink
  reviewItem.style.padding = "15px";
  reviewItem.style.marginBottom = "15px";
  reviewItem.style.borderRadius = "12px";
  reviewItem.style.boxShadow = "0 2px 8px rgba(0,0,0,0.1)";
  reviewItem.style.display = "flex";
  reviewItem.style.flexDirection = "column";
  reviewItem.style.gap = "8px";

  // Header: left (photo + name), right (date)
  const header = document.createElement("div");
  header.style.display = "flex";
  header.style.alignItems = "center";
  header.style.justifyContent = "space-between"; // name left, date right
  header.style.flexWrap = "wrap"; // wrap if small screens

  const leftDiv = document.createElement("div");
  leftDiv.style.display = "flex";
  leftDiv.style.alignItems = "center";
  leftDiv.style.gap = "8px";

  const img = document.createElement("img");
  img.src = photo || "images/default-avatar.png";
  img.alt = name;
  img.className = "review-photo";

  const reviewerName = document.createElement("strong");
  reviewerName.textContent = name;
  reviewerName.style.color = "#333"; // dark text for contrast

  leftDiv.appendChild(img);
  leftDiv.appendChild(reviewerName);

  // Date
  const dateDiv = document.createElement("span");
  if (timestamp) {
    const dateObj = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);
    dateDiv.textContent = dateObj.toLocaleDateString("en-IN", {
      day: "numeric",
      month: "short",
      year: "numeric"
    });
    dateDiv.style.fontSize = "14px";
    dateDiv.style.color = "#888";
  }

  header.appendChild(leftDiv);
  header.appendChild(dateDiv);

  // Stars
  const starsDiv = document.createElement("div");
  starsDiv.className = "review-stars";
  starsDiv.style.display = "flex";
  starsDiv.style.gap = "2px";
  for (let i = 1; i <= 5; i++) {
    const star = document.createElement("span");
    star.textContent = "★";
    star.style.color = i <= rating ? "gold" : "#ccc";
    starsDiv.appendChild(star);
  }

  // Comment
  const commentDiv = document.createElement("div");
  commentDiv.className = "review-comment";
  commentDiv.textContent = comment;
  commentDiv.style.wordWrap = "break-word"; // wrap long text
  commentDiv.style.whiteSpace = "pre-wrap";  // preserve line breaks
  commentDiv.style.color = "#444";

  reviewItem.appendChild(header);
  reviewItem.appendChild(starsDiv);
  reviewItem.appendChild(commentDiv);

  list.prepend(reviewItem); // newest first
}





</script>

</body>
</html>
